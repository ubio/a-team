{
    "label": "Date Multi-Format",
    "params": [
        {
            "name": "formats",
            "label": "Input formats",
            "singular": "format",
            "type": "recordset",
            "value": [],
            "fields": [
                {
                    "type": "string",
                    "name": "format",
                    "value": "",
                    "placeholder": "YYYY-MM-DD HH:mm:ss"
                }
            ]
        },
        {
            "name": "strict",
            "label": "Strict",
            "type": "boolean",
            "value": false
        }
    ],
    "pipeline": {
        "pipes": [
            {
                "enabled": true,
                "bindings": [],
                "mode": "value",
                "expression": "const formats = ctx.resolveParam('formats');\nconst strict = ctx.resolveParam('strict');\nfor (const fmt of formats) {\n  const val = ctx.moment.utc(value, fmt.format, strict);\n  if (val.isValid()) {\n    return val.format('YYYY-MM-DD HH:mm:ss');\n\t}\n}\nthrow ctx.createError({\n  code: 'DateFormatFailed',\n  message: 'String does not match any of the input date formats',\n  retry: true\n});",
                "type": "other/javascript"
            }
        ]
    }
}