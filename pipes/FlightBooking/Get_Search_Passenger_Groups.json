{
    "id": "202757ea-035a-4e55-abf6-787ef754550c",
    "label": "Get Search Passenger Groups",
    "pipeline": {
        "id": "9da60d73-0474-41f9-a12b-2d2fb65fd31f",
        "pipes": [
            {
                "id": "0d54eaf7-0b1c-4a34-8f0e-92f06014b094",
                "enabled": true,
                "bindings": [],
                "inputKey": "search",
                "type": "value/get-input"
            },
            {
                "id": "80d7180b-339c-40d2-8b63-3baa1292b3c7",
                "enabled": true,
                "bindings": [],
                "path": "/passengerAges",
                "optional": false,
                "type": "value/get-path"
            },
            {
                "id": "50f5f5d6-c6b4-4f8c-89e6-6d5c535ce222",
                "enabled": true,
                "bindings": [],
                "type": "other/unfold-array"
            },
            {
                "id": "b5dd12dd-3fd1-4dad-9405-f45fc3bfdbf0",
                "enabled": true,
                "bindings": [
                    {
                        "name": "ranges",
                        "binding": "ranges"
                    }
                ],
                "ranges": null,
                "type": "value/map-range"
            },
            {
                "id": "e160c63e-f0d7-4132-b472-5eab63d30cb8",
                "enabled": true,
                "bindings": [],
                "pipeline": {
                    "id": "97dd442a-b892-4377-98b5-80ac3f5f82a8",
                    "pipes": []
                },
                "type": "other/fold-count"
            },
            {
                "id": "4d5f42c5-ed19-4d02-bb3e-def5e33586eb",
                "enabled": true,
                "bindings": [],
                "mode": "value",
                "expression": "const ranges = ctx.resolveParam('ranges');\nconst newValue = JSON.parse(JSON.stringify(value));\nfor (const rng of ranges) {\n  const key = rng.value;\n  if (!newValue[key]) {\n    newValue[key] = 0;\n  }\n}\nreturn newValue;",
                "type": "other/javascript"
            }
        ]
    },
    "sha": null,
    "params": [
        {
            "name": "ranges",
            "type": "recordset",
            "value": [
                {
                    "value": "infant",
                    "min": null,
                    "max": 2
                },
                {
                    "value": "child",
                    "min": 2,
                    "max": 12
                },
                {
                    "value": "adult",
                    "min": 12,
                    "max": 60
                },
                {
                    "value": "senior",
                    "min": 45,
                    "max": null
                }
            ],
            "singular": "range",
            "fields": [
                {
                    "name": "value",
                    "type": "string",
                    "value": ""
                },
                {
                    "name": "min",
                    "type": "number",
                    "value": null
                },
                {
                    "name": "max",
                    "type": "number"
                }
            ]
        }
    ]
}